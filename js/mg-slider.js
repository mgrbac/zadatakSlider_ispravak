function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}
var MGSlider=function MGSlider(options){"use strict";_classCallCheck(this,MGSlider);var _this=this,slider=null,sliderWrapper=null,slidesCurrent=null,slidesOrig=null,btnPrev=null,btnNext=null,activeSlide=null,lastSlide=null,firstSlide=null,slideWidth=null,slideMargin=null,positionX=0,defaultOptions={selectors:{sliderId:'slider-1',btnPrevId:'slide-prev',btnNextId:'slide-next'},classes:{activeSlide:'active'},debug:!1};this.init=function(){options=$.extend(!0,{},defaultOptions,options),_this.setElements(),_this.initSlider()},this.calcElementWidth=function(el){return parseFloat(el.outerWidth())},this.calcElementMargin=function(el){return parseFloat(el.css('marginLeft'))},this.getCurrentSlides=function(){return $('#'+options.selectors.sliderId+' .slider-wrapper .slide').length?$('#'+options.selectors.sliderId+' .slider-wrapper .slide'):null},this.updateCurrentSlides=function(){return slidesCurrent=_this.getCurrentSlides()},this.prependLastEl=function(slides){lastSlide=slides.last(),lastSlide.prependTo(sliderWrapper),_this.updateCurrentSlides()},this.appendFirstEl=function(slides){firstSlide=slides.first(),firstSlide.appendTo(sliderWrapper),_this.updateCurrentSlides()},this.removeActiveClass=function(slide){slide&&slide.removeClass(options.classes.activeSlide)},this.setActiveSlide=function(slide){slide&&(_this.removeActiveClass(activeSlide),slide.addClass(options.classes.activeSlide),activeSlide=slide)},this.slidePrev=function(){lastSlide=slidesCurrent.last(),slideWidth=_this.calcElementWidth(lastSlide),slideMargin=_this.calcElementMargin(lastSlide);var newPositionX=-slideWidth-slideMargin;positionX=newPositionX,sliderWrapper.animate({marginRight:0},500,function(){sliderWrapper.css('marginRight',positionX),_this.prependLastEl(slidesCurrent),btnPrev.prop('disabled',!1)}),_this.setActiveSlide(activeSlide.prev())},this.slideNext=function(){slideWidth=_this.calcElementWidth(activeSlide),slideMargin=_this.calcElementMargin(activeSlide);var newPositionX=positionX-slideWidth-slideMargin;positionX=-slideWidth-slideMargin,_this.setActiveSlide(activeSlide.next()),sliderWrapper.animate({marginRight:newPositionX},500,function(){sliderWrapper.css('marginRight',positionX),_this.appendFirstEl(slidesCurrent),btnNext.prop('disabled',!1)})},this.initEvents=function(){btnPrev&&btnPrev.on('click',function(){btnPrev.prop('disabled',!0),_this.slidePrev()}),btnNext&&btnNext.on('click',function(){btnNext.prop('disabled',!0),_this.slideNext()})},this.initSlider=function(){return slider?slidesOrig?void(_this.setActiveSlide(slidesOrig.first()),_this.prependLastEl(slidesOrig),positionX=-_this.calcElementWidth(lastSlide)-_this.calcElementMargin(lastSlide),sliderWrapper.css('marginRight',positionX),_this.initEvents()):void _this.logCall('missing slides'):void _this.logCall('missing slider node: #'+options.selectors.sliderId)},this.setElements=function(){slider=$('#'+options.selectors.sliderId).length?$('#'+options.selectors.sliderId):null,sliderWrapper=$('#'+options.selectors.sliderId+' .slider-wrapper').length?$('#'+options.selectors.sliderId+' .slider-wrapper'):null,slidesOrig=$('#'+options.selectors.sliderId+' .slider-wrapper .slide').length?$('#'+options.selectors.sliderId+' .slider-wrapper .slide'):null,btnPrev=$('#'+options.selectors.btnPrevId).length?$('#'+options.selectors.btnPrevId):null,btnNext=$('#'+options.selectors.btnNextId).length?$('#'+options.selectors.btnNextId):null},this.init()}